
SET FOREIGN_KEY_CHECKS=0;

TRUNCATE `Archi`;
TRUNCATE `Associazioni`;
TRUNCATE `Autisti`;
TRUNCATE `Corse`;
TRUNCATE `Eventi`;
TRUNCATE `Indicazioni`;
TRUNCATE `Metodi_di_pagamento`;
TRUNCATE `Nodi`;
TRUNCATE `Richieste`;
TRUNCATE `Stazioni_di_ricarica`;
TRUNCATE `Storico_corse`;
TRUNCATE `Storico_tratte`;
TRUNCATE `Tratte`;
TRUNCATE `Utenti`;
TRUNCATE `Veicoli`;

SET FOREIGN_KEY_CHECKS=1;

LOAD DATA LOCAL INFILE 'data/Utenti.csv' INTO TABLE Utenti
  FIELDS TERMINATED BY ','
  OPTIONALLY ENCLOSED BY '"'
  ESCAPED BY '"'
  LINES TERMINATED BY '\n'
  IGNORE 1 LINES;

LOAD DATA LOCAL INFILE 'data/Metodi_di_pagamento.csv' INTO TABLE Metodi_di_pagamento
  FIELDS TERMINATED BY ','
  OPTIONALLY ENCLOSED BY '"'
  ESCAPED BY '"'
  LINES TERMINATED BY '\n'
  IGNORE 1 LINES;

LOAD DATA LOCAL INFILE 'data/Nodi.csv' INTO TABLE Nodi
  FIELDS TERMINATED BY ','
  OPTIONALLY ENCLOSED BY '"'
  ESCAPED BY '"'
  LINES TERMINATED BY '\n'
  IGNORE 1 LINES;

LOAD DATA LOCAL INFILE 'data/Archi.csv' INTO TABLE Archi
  FIELDS TERMINATED BY ','
  OPTIONALLY ENCLOSED BY '"'
  ESCAPED BY '"'
  LINES TERMINATED BY '\n'
  IGNORE 1 LINES;
